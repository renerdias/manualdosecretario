(window.webpackJsonp=window.webpackJsonp||[]).push([[147],{480:function(e,r,s){"use strict";s.r(r);var a=s(0),t=Object(a.a)({},function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"content"},[e._m(0),e._v(" "),s("p",[e._v("Nesta seção você aprenderá o que é necessário para que o\nacesso ao HOD ocorra sem dificuldades em sistemas Windows.")]),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),s("p",[e._v("O sistema pode ser acessado pelo link: "),s("a",{attrs:{href:"https://acesso.serpro.gov.br/HOD10/jsp/logonID.jsp",target:"_blank",rel:"noopener noreferrer"}},[e._v("HOD"),s("OutboundLink")],1)]),e._v(" "),e._m(3),e._v(" "),s("p",[e._v("São necessários dois softwares específicos:")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://ftp.mozilla.org/pub/firefox/releases/52.9.0esr/win32/pt-BR/Firefox%20Setup%2052.9.0esr.exe",target:"_blank",rel:"noopener noreferrer"}},[e._v("Mozilla Firefox 52 ESR (32 bits)"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"http://www.oracle.com/technetwork/java/javase/downloads/java-archive-downloads-javase6-419409.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java 6 Update 25, (32 bits)"),s("OutboundLink")],1),e._v(" (necessário\ncriar uma conta)")])]),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),s("p",[e._v("O arquivo "),s("code",[e._v(".csr")]),e._v(" deve ser enviado em anexo na "),s("a",{attrs:{href:"https://ifce.edu.br/centraldeatendimento",target:"_blank",rel:"noopener noreferrer"}},[e._v("Central de Atendimento"),s("OutboundLink")],1),e._v('\nnos itens "Servidor" > "Tecnologia da Informação (DGTI)" > "Redes e Internet" >\n"Hospedagem e Servidor Virtual" > "Solicitar certificado (SSL) para um domínio/aplicação".')]),e._v(" "),s("p",[e._v("Na descrição você deve ainda, indicar o subdomínio ao qual o certificado SSL estará\nconectado.")]),e._v(" "),e._m(6),e._v(" "),e._m(7),e._v(" "),e._m(8),e._v(" "),s("p",[e._v("O servidor Nginx espera que o certificado seja um conjunto de certificados, para tanto, você\ndeve concatenar os arquivos levando em consideração a seguinte ordem:")]),e._v(" "),s("ol",[e._m(9),e._v(" "),s("li",[e._v("Certificado SSL de domínio intermediário "),s("a",{attrs:{href:"https://support.globalsign.com/customer/en/portal/articles/1464460-domainssl-intermediate-certificates",target:"_blank",rel:"noopener noreferrer"}},[e._v("(baixe aqui)"),s("OutboundLink")],1),e._v("\n(clique em "),s("em",[e._v("View in Base64")]),e._v(" e salve o conteúdo no diretório "),s("code",[e._v("certs")]),e._v(", com nome "),s("code",[e._v("intermediate.crt")]),e._v(".)")]),e._v(" "),s("li",[e._v("Certificado raíz R1 Global Sign "),s("a",{attrs:{href:"https://support.globalsign.com/customer/en/portal/articles/1426602-globalsign-root-certificates",target:"_blank",rel:"noopener noreferrer"}},[e._v("(baixe aqui)"),s("OutboundLink")],1),e._v("\n(clique em "),s("em",[e._v("View in Base64")]),e._v(" e salve o conteúdo no diretório "),s("code",[e._v("certs")]),e._v(", com nome "),s("code",[e._v("root.crt")]),e._v(".)")])]),e._v(" "),e._m(10),e._v(" "),e._m(11),e._m(12),e._v(" "),e._m(13),e._v(" "),e._m(14),s("p",[e._v("Lembre-se de alterar o arquivo acima para as suas necessidades.")]),e._v(" "),e._m(15),e._v(" "),s("p",[e._v("Para facilitar a configuração do Nginx, remova a senha adicionada a\nchave criada na seção "),s("router-link",{attrs:{to:"/guides/web/ssl.html#gerar-certificado-ssl"}},[e._v("Gerar Certificado SSL")]),e._v("\ncom o comando:")],1),e._v(" "),e._m(16),e._m(17),e._v(" "),e._m(18),e._v(" "),s("p",[e._v("Além desse tutorial rápido você pode saber mais sobre o assunto ao ler\nos seguintes links.")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://cartilha.cert.br/criptografia/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Criptografia"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://nginx.org/en/docs/beginners_guide.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Configuração Nginx"),s("OutboundLink")],1),e._v(" (em inglês)")]),e._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/tldr-pages/tldr/blob/master/pages/common/openssl.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("Ferramenta openssl"),s("OutboundLink")],1),e._v(" (em inglês)")])])])},[function(){var e=this.$createElement,r=this._self._c||e;return r("h1",{attrs:{id:"resultados-obtidos-com-essa-documentacao"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#resultados-obtidos-com-essa-documentacao","aria-hidden":"true"}},[this._v("#")]),this._v(" Resultados obtidos com essa documentação")])},function(){var e=this.$createElement,r=this._self._c||e;return r("h2",{attrs:{id:"o-que-e-o-hod"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#o-que-e-o-hod","aria-hidden":"true"}},[this._v("#")]),this._v(" O que é o HOD?")])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("O HOD é um sistema do Serpro utilizado pelo Instituto Federal do Ceará. Para\nacessá-lo é necessário permissão e a autenticação pode ser feito por meio do CPF\ndo servidor, ou ainda um "),r("em",[this._v("token")]),this._v(" de acesso.")])},function(){var e=this.$createElement,r=this._self._c||e;return r("h2",{attrs:{id:"instalacao-de-softwares-necessarios"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#instalacao-de-softwares-necessarios","aria-hidden":"true"}},[this._v("#")]),this._v(" Instalação de softwares necessários")])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Caso o usuário esteja utilizando um "),r("em",[this._v("token")]),this._v(" para acessar o")])},function(){var e=this.$createElement,r=this._self._c||e;return r("h2",{attrs:{id:"enviar-o-arquivo-csr"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#enviar-o-arquivo-csr","aria-hidden":"true"}},[this._v("#")]),this._v(" Enviar o arquivo "),r("code",[this._v(".csr")])])},function(){var e=this.$createElement,r=this._self._c||e;return r("h2",{attrs:{id:"trabalhando-com-o-certificado-ssl"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#trabalhando-com-o-certificado-ssl","aria-hidden":"true"}},[this._v("#")]),this._v(" Trabalhando com o certificado SSL")])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Você receberá o certificado SSL por e-mail, em seguida, será necessário configurar o\nseu servidor Web para responder requisições "),r("code",[this._v("https")]),this._v(".")])},function(){var e=this.$createElement,r=this._self._c||e;return r("h3",{attrs:{id:"certificado-ssl-no-servidor-nginx"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#certificado-ssl-no-servidor-nginx","aria-hidden":"true"}},[this._v("#")]),this._v(" Certificado SSL no servidor Nginx")])},function(){var e=this.$createElement,r=this._self._c||e;return r("li",[this._v("Certificado enviado por e-mail (salve o conteúdo no diretório "),r("code",[this._v("certs")]),this._v(", com nome "),r("code",[this._v("site.crt")]),this._v(".)")])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Você pode utilizar o comando "),r("code",[this._v("cat")]),this._v(' para obter um único arquivo "'),r("em",[this._v("bundle")]),this._v('".')])},function(){var e=this.$createElement,r=this._self._c||e;return r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[this._v("$ cat site.crt intermediate.crt root.crt > bundle.<sub-dominio>.ifce.edu.br.crt\n")])]),this._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[this._v("1")]),r("br")])])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Você deve agora ter dois arquivos principais que devem ser referenciados no\narquivo de configuração do "),r("em",[this._v("Virtual Host")]),this._v(" do servidor Nginx.")])},function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("p",[e._v("Espera-se que o arquivo de configuração de apresentado abaixo seja\ncolocado no diretório "),s("code",[e._v("/etc/nginx/conf.d/")]),e._v(" e que os certificados sejam colocados\nno diretório "),s("code",[e._v("/etc/secrets/")]),e._v(" como representado nas linhas "),s("code",[e._v("14")]),e._v(" e "),s("code",[e._v("15")]),e._v(" do código\nabaixo.")])},function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"language- line-numbers-mode"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[e._v(" ")]),s("div",{staticClass:"highlighted"},[e._v(" ")]),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("server {\n  listen 80;\n  server_name <sub-dominio>.ifce.edu.br;\n\n  location / {\n    return 301 https://$host$uri;\n\t}\n}\n\nserver {\n  listen 443 ssl;\n  server_name <sub-dominio>.ifce.edu.br;\n\n  ssl_certificate /etc/secrets/bundle.<sub-dominio>.ifce.edu.br.crt;\n  ssl_certificate_key /etc/secrets/<sub-dominio>.ifce.edu.br.key;\n\n  location / {\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $remote_addr;\n    proxy_set_header Host $host;\n    proxy_pass http://127.0.0.1:8080;\n    proxy_redirect http:// https://;\n\t}\n}\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br"),s("span",{staticClass:"line-number"},[e._v("18")]),s("br"),s("span",{staticClass:"line-number"},[e._v("19")]),s("br"),s("span",{staticClass:"line-number"},[e._v("20")]),s("br"),s("span",{staticClass:"line-number"},[e._v("21")]),s("br"),s("span",{staticClass:"line-number"},[e._v("22")]),s("br"),s("span",{staticClass:"line-number"},[e._v("23")]),s("br"),s("span",{staticClass:"line-number"},[e._v("24")]),s("br")])])},function(){var e=this.$createElement,r=this._self._c||e;return r("h3",{attrs:{id:"removendo-a-senha-da-chave"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#removendo-a-senha-da-chave","aria-hidden":"true"}},[this._v("#")]),this._v(" Removendo a senha da chave")])},function(){var e=this.$createElement,r=this._self._c||e;return r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[this._v("$ openssl rsa -in <sub-dominio>.ifce.edu.br.key -out <sub-dominio>.ifce.edu.br.key\nEnter pass phrase for wiki.ubajara.ifce.edu.br.key:\nwriting RSA key\n")])]),this._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[this._v("1")]),r("br"),r("span",{staticClass:"line-number"},[this._v("2")]),r("br"),r("span",{staticClass:"line-number"},[this._v("3")]),r("br")])])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Após reiniciar o servidor Nginx com as novas configurações você verá,\nao acessar a sua aplicação "),r("em",[this._v("web")]),this._v(" que ela já está com o certificado\nhabilitado.")])},function(){var e=this.$createElement,r=this._self._c||e;return r("h2",{attrs:{id:"leituras-extras"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#leituras-extras","aria-hidden":"true"}},[this._v("#")]),this._v(" Leituras extras")])}],!1,null,null,null);r.default=t.exports}}]);